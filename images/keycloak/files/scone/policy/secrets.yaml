  - name: Keycloak_CA_Cert
    kind: x509-ca
    private_key: Keycloak_CA_Key
    export_public: true

  - name: Keycloak_CA_Key
    kind: private-key

  - name: Keycloak_Server_Cert
    kind: x509
    private_key: Keycloak_Server_Key
    issuer: Keycloak_CA_Cert
    dns:
    - keycloak.ciam
    - keycloak
    - neardatamesh.ciam
    - neardatamesh-ciam
    - ciam.services.neardata
    - {{keycloak_fqdn}}
    - {{keycloak_host}}
    export:
    - namespace: {{namespace}}

  - name: Keycloak_Server_Key
    kind: private-key
    export:
    - namespace: {{namespace}}/{{keycloak_service_name}}

  - name: Keycloak_Client_Cert
    kind: x509
    issuer: Keycloak_CA_Cert
    private_key: Keycloak_Client_Key
    export:
    - namespace: {{namespace}}

  - name: Keycloak_Client_Key
    kind: private-key
    key_type: RSA-2048
    export:
    - namespace: {{namespace}}

  - name: Keycloak_Client_Keystore
    kind: binary
    value: "deadbeef"

  - name: Keycloak_Client_Keystore_Password
    kind: ascii
    value: "123abc"

